<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kelly Pool åˆ†ç‰ŒåŠ©æ‰‹</title>
    <link rel="stylesheet" href="css/style.css">
    <script src="lib/mqtt.min.js"></script>
    <script src="js/mqtt-client.js"></script>
</head>
<body>
    <div class="container">
        <h1>ğŸ± Kelly Pool åŠ©æ‰‹</h1>
        
        <div id="lobby-screen">
            <div class="input-group">
                <input type="text" id="room-id" placeholder="è¾“å…¥æˆ¿é—´å· (ä¾‹å¦‚ 888)" maxlength="6">
            </div>
            
            <button class="btn btn-primary" onclick="joinRoom()">åŠ å…¥æˆ¿é—´ (æˆ‘æ˜¯ç©å®¶)</button>
            <button class="btn btn-secondary" onclick="createRoom()">æˆ‘æ˜¯æˆ¿ä¸» (åˆ›å»ºæ¸¸æˆ)</button>
        </div>

        <p style="text-align: center; color: #666; font-size: 0.9rem; margin-top: 50px;">
            åŸºäº MQTT å®æ—¶åŒæ­¥ Â· æ— éœ€åç«¯ Â· çº¯é™æ€
        </p>
    </div>

    <script>
        function joinRoom() {
            const roomId = document.getElementById('room-id').value.trim();
            if (!roomId) return alert('è¯·è¾“å…¥æˆ¿é—´å·');
            
            // å­˜å‚¨æˆ¿é—´å·ï¼Œè·³è½¬åˆ°ç©å®¶é¡µ
            localStorage.setItem('kp_room_id', roomId);
            window.location.href = 'player.html';
        }

        function createRoom() {
            const roomId = document.getElementById('room-id').value.trim() || Math.floor(1000 + Math.random() * 9000);
            
            // å­˜å‚¨æˆ¿é—´å·ï¼Œè·³è½¬åˆ°æˆ¿ä¸»é¡µ
            localStorage.setItem('kp_room_id', roomId);
            window.location.href = 'host.html';
        }
    </script>
</body>
</html>